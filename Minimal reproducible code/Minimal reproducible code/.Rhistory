# Create homeownership function
homeownership_function <- function(all_classes, class_prediction){
p5 <- ggplot(all_classes, aes(class_prediction, renters_RR,label=State.Code, color=Region, show.legend = FALSE)) +
geom_point() +
geom_text_repel(label=all_classes$State.Code, size=7.75, max.overlaps=20, nudge_x=.005, nudge_y=.005, segment.color= "transparent") +
xlab("Typlogy") +
ylab("Black-White ratio in % of homes that are renter-occupied") +
ggtitle("Homeownership inequity") +
geom_point(data= all_classes, aes(x=class_prediction, y=renters_median), col= "black", pch = 8) +
theme_bw() +
theme(plot.title = element_text(face= "bold", hjust = .5, size=30), legend.position = "none", text= element_text(size=26), axis.title.y = (text=element_text(size=26)), axis.title.x=(text=element_text(size=26)))
}
# Create incarceration function
incarceration_function <- function(all_classes, class_prediction){
p6 <- ggplot(all_classes, aes(class_prediction, incarceration_RR,label=State.Code, color=Region, show.legend = FALSE)) +
geom_point() +
geom_text_repel(label=all_classes$State.Code, size=7.75, max.overlaps=20, nudge_x=.005, nudge_y=.005, segment.color= "transparent") +
xlab("Typlogy") +
ylab("Black-White ratio in incarceration rates") +
ggtitle("Incarceration inequity") +
geom_point(data= all_classes, aes(x=class_prediction, y=incarceration_median), col= "black", pch = 8) +
theme_bw() +
theme(plot.title = element_text(face= "bold", hjust = .5, size=30), legend.position = "none", text= element_text(size=26),
axis.title.y = (text=element_text(size=26)), axis.title.x=(text=element_text(size=26)))
}
# Call functions
legendplot <- legend_function(all_classes, all_classes$two_class_pred)
p2 <- education_function(all_classes, all_classes$two_class_pred)
p3 <- unemployment_function(all_classes, all_classes$two_class_pred)
p4 <- income_function(all_classes, all_classes$two_class_pred)
p5 <- homeownership_function(all_classes, all_classes$two_class_pred)
p6 <- incarceration_function(all_classes, all_classes$two_class_pred)
# Create vertical plot (paper-style)
legend_1<- get_legend(legendplot +
guides(color=guide_legend(nrow=1)) +
theme(legend.position="right", legend.key.size= unit(.75, "cm") ))
prow<- plot_grid(p2, NA, p3, NA, p5, NA, NA, NA, NA, NA, p6, NA, p4, NA, legend_1, nrow=3, rel_widths=c(1, .1, 1, .1, 1, .1, .1, .1, .1, .1, 1, .1, 1, .1, 1), rel_heights= c(1, .1, 1))
paper<- plot_grid(prow, ncol=1)
jpeg(filename= "cluster_plot_2_class.jpeg", width= 1700, height= 1900, quality= 100)
print(paper)
# Display vertical plot
include_graphics("cluster_plot_2_class.jpeg")
# Create horizontal plot (poster-style)
#legend<- get_legend(legendplot +
#                      guides(color=guide_legend(nrow=1)) +
#                      theme(legend.position="bottom", legend.key.size= unit(.75, "cm") ))
#prow<- plot_grid(NA, p2, NA, p3, NA, p5, NA, p6, NA, p4, NA, nrow=1, rel_widths=c(.1, 1, .1, 1, .1, 1, .1, 1, .1, 1, .1))
#poster<- plot_grid(prow, legend, ncol=1, rel_heights = c(1, .1))
#poster
#jpeg(filename= "two_class_cluster_plot_poster_grid.jpeg", width= 3000, height= 1200, quality= 100)
#print(poster)
#Create new dataset with median values for each variable for each class
# Copy dataset
med_data <- structural_racism_with_lpa
# Subset by class
class1<- med_data %>% filter(three_class_pred == 1)
class2<- med_data %>% filter(three_class_pred == 2)
class3<- med_data %>% filter(three_class_pred == 3)
class1<- class1 %>% mutate(
education_median = median(no_college_RR, na.rm= TRUE),
unemployment_median = median(unemployment_RR, na.rm= TRUE),
income_median = median(median_income_ratio, na.rm = TRUE),
renters_median = median(renters_RR, na.rm = TRUE),
incarceration_median = median(incarceration_RR, na.rm= TRUE)
)
class2<- class2 %>% mutate(
education_median = median(no_college_RR, na.rm= TRUE),
unemployment_median = median(unemployment_RR, na.rm= TRUE),
income_median = median(median_income_ratio, na.rm = TRUE),
renters_median = median(renters_RR, na.rm = TRUE),
incarceration_median = median(incarceration_RR, na.rm= TRUE)
)
class3<- class3 %>% mutate(
education_median = median(no_college_RR, na.rm= TRUE),
unemployment_median = median(unemployment_RR, na.rm= TRUE),
income_median = median(median_income_ratio, na.rm = TRUE),
renters_median = median(renters_RR, na.rm = TRUE),
incarceration_median = median(incarceration_RR, na.rm= TRUE)
)
# Combine datasets
all_classes<- rbind(class1, class2, class3)
# Call functions
legendplot <- legend_function(all_classes, all_classes$three_class_pred)
p2 <- education_function(all_classes, all_classes$three_class_pred)
p3 <- unemployment_function(all_classes, all_classes$three_class_pred)
p4 <- income_function(all_classes, all_classes$three_class_pred)
p5 <- homeownership_function(all_classes, all_classes$three_class_pred)
p6 <- incarceration_function(all_classes, all_classes$three_class_pred)
# Create vertical plot (paper-style)
legend_1<- get_legend(legendplot +
guides(color=guide_legend(nrow=1)) +
theme(legend.position="right", legend.key.size= unit(.75, "cm") ))
prow<- plot_grid(p2, NA, p3, NA, p5, NA, NA, NA, NA, NA, p6, NA, p4, NA, legend_1, nrow=3, rel_widths=c(1, .1, 1, .1, 1, .1, .1, .1, .1, .1, 1, .1, 1, .1, 1), rel_heights= c(1, .1, 1))
paper<- plot_grid(prow, ncol=1)
jpeg(filename= "cluster_plot_3_class.jpeg", width= 1700, height= 1900, quality= 100)
print(paper)
# Display vertical plot
include_graphics("cluster_plot_3_class.jpeg")
#Create new dataset with median values for each variable for each class
# Copy dataset
med_data <- structural_racism_with_lpa
# Subset by class
class1<- med_data %>% filter(four_class_pred == 1)
class2<- med_data %>% filter(four_class_pred == 2)
class3<- med_data %>% filter(four_class_pred == 3)
class4<- med_data %>% filter(four_class_pred == 4)
class1<- class1 %>% mutate(
education_median = median(no_college_RR, na.rm= TRUE),
unemployment_median = median(unemployment_RR, na.rm= TRUE),
income_median = median(median_income_ratio, na.rm = TRUE),
renters_median = median(renters_RR, na.rm = TRUE),
incarceration_median = median(incarceration_RR, na.rm= TRUE)
)
class2<- class2 %>% mutate(
education_median = median(no_college_RR, na.rm= TRUE),
unemployment_median = median(unemployment_RR, na.rm= TRUE),
income_median = median(median_income_ratio, na.rm = TRUE),
renters_median = median(renters_RR, na.rm = TRUE),
incarceration_median = median(incarceration_RR, na.rm= TRUE)
)
class3<- class3 %>% mutate(
education_median = median(no_college_RR, na.rm= TRUE),
unemployment_median = median(unemployment_RR, na.rm= TRUE),
income_median = median(median_income_ratio, na.rm = TRUE),
renters_median = median(renters_RR, na.rm = TRUE),
incarceration_median = median(incarceration_RR, na.rm= TRUE)
)
class4<- class4 %>% mutate(
education_median = median(no_college_RR, na.rm= TRUE),
unemployment_median = median(unemployment_RR, na.rm= TRUE),
income_median = median(median_income_ratio, na.rm = TRUE),
renters_median = median(renters_RR, na.rm = TRUE),
incarceration_median = median(incarceration_RR, na.rm= TRUE)
)
# Combine datasets
all_classes<- rbind(class1, class2, class3, class4)
# Call functions
legendplot <- legend_function(all_classes, all_classes$four_class_pred)
p2 <- education_function(all_classes, all_classes$four_class_pred)
p3 <- unemployment_function(all_classes, all_classes$four_class_pred)
p4 <- income_function(all_classes, all_classes$four_class_pred)
p5 <- homeownership_function(all_classes, all_classes$four_class_pred)
p6 <- incarceration_function(all_classes, all_classes$four_class_pred)
# Create vertical plot (paper-style)
legend_1<- get_legend(legendplot +
guides(color=guide_legend(nrow=1)) +
theme(legend.position="right", legend.key.size= unit(.75, "cm") ))
prow<- plot_grid(p2, NA, p3, NA, p5, NA, NA, NA, NA, NA, p6, NA, p4, NA, legend_1, nrow=3, rel_widths=c(1, .1, 1, .1, 1, .1, .1, .1, .1, .1, 1, .1, 1, .1, 1), rel_heights= c(1, .1, 1))
paper<- plot_grid(prow, ncol=1)
jpeg(filename= "cluster_plot_4_class.jpeg", width= 1700, height= 1900, quality= 100)
print(paper)
# Display vertical plot
include_graphics("cluster_plot_4_class.jpeg")
#Create new dataset with median values for each variable for each class
# Copy dataset
med_data <- structural_racism_with_lpa
# Subset by class
class1<- med_data %>% filter(five_class_pred == 1)
class2<- med_data %>% filter(five_class_pred == 2)
class3<- med_data %>% filter(five_class_pred == 3)
class4<- med_data %>% filter(five_class_pred == 4)
class5<- med_data %>% filter(five_class_pred == 5)
class1<- class1 %>% mutate(
education_median = median(no_college_RR, na.rm= TRUE),
unemployment_median = median(unemployment_RR, na.rm= TRUE),
income_median = median(median_income_ratio, na.rm = TRUE),
renters_median = median(renters_RR, na.rm = TRUE),
incarceration_median = median(incarceration_RR, na.rm= TRUE)
)
class2<- class2 %>% mutate(
education_median = median(no_college_RR, na.rm= TRUE),
unemployment_median = median(unemployment_RR, na.rm= TRUE),
income_median = median(median_income_ratio, na.rm = TRUE),
renters_median = median(renters_RR, na.rm = TRUE),
incarceration_median = median(incarceration_RR, na.rm= TRUE)
)
class3<- class3 %>% mutate(
education_median = median(no_college_RR, na.rm= TRUE),
unemployment_median = median(unemployment_RR, na.rm= TRUE),
income_median = median(median_income_ratio, na.rm = TRUE),
renters_median = median(renters_RR, na.rm = TRUE),
incarceration_median = median(incarceration_RR, na.rm= TRUE)
)
class4<- class4 %>% mutate(
education_median = median(no_college_RR, na.rm= TRUE),
unemployment_median = median(unemployment_RR, na.rm= TRUE),
income_median = median(median_income_ratio, na.rm = TRUE),
renters_median = median(renters_RR, na.rm = TRUE),
incarceration_median = median(incarceration_RR, na.rm= TRUE)
)
class5<- class5 %>% mutate(
education_median = median(no_college_RR, na.rm= TRUE),
unemployment_median = median(unemployment_RR, na.rm= TRUE),
income_median = median(median_income_ratio, na.rm = TRUE),
renters_median = median(renters_RR, na.rm = TRUE),
incarceration_median = median(incarceration_RR, na.rm= TRUE)
)
# Combine datasets
all_classes<- rbind(class1, class2, class3, class4, class5)
# Call functions
legendplot <- legend_function(all_classes, all_classes$four_class_pred)
p2 <- education_function(all_classes, all_classes$four_class_pred)
p3 <- unemployment_function(all_classes, all_classes$four_class_pred)
p4 <- income_function(all_classes, all_classes$four_class_pred)
p5 <- homeownership_function(all_classes, all_classes$four_class_pred)
p6 <- incarceration_function(all_classes, all_classes$four_class_pred)
# Create vertical plot (paper-style)
legend_1<- get_legend(legendplot +
guides(color=guide_legend(nrow=1)) +
theme(legend.position="right", legend.key.size= unit(.75, "cm") ))
prow<- plot_grid(p2, NA, p3, NA, p5, NA, NA, NA, NA, NA, p6, NA, p4, NA, legend_1, nrow=3, rel_widths=c(1, .1, 1, .1, 1, .1, .1, .1, .1, .1, 1, .1, 1, .1, 1), rel_heights= c(1, .1, 1))
paper<- plot_grid(prow, ncol=1)
jpeg(filename= "cluster_plot_5_class.jpeg", width= 1700, height= 1900, quality= 100)
print(paper)
# Display vertical plot
include_graphics("cluster_plot_5_class.jpeg")
dat <- lpa_results
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3,),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
dat <- lpa_results
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3,),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
dat <- lpa_results
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
dat <- lpa_results
dat %>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred)
)
dat <- lpa_results
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3,),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred)
)
dat <- lpa_results
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3,),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred =! 3 ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred)
)
dat <- lpa_results
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3,),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred ! 3 ~ four_class_pred),
dat <- lpa_results
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3,),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred)
)
View(dat)
colnames(dat)
dat <- lpa_results
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3,),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred)
)
dat <- lpa_results
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3,),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
! (four_class_pred %in% 3 ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
dat_long <- dat %>% select(-ends_with("pred")) %>% pivot_longer(cols = ends_with("recoded"), names_to = "model", values_to = "value")
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3,),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred) ,
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
# Install libraries
library(tidyverse)
library(statebins)
library(ggrepel)
library(cowplot)
library(knitr)
library(magrittr)
library(dplyr)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3,),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred) ,
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred) ,
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
! (four_class_pred == 3) ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
TRUE ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
TRUE ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
TRUE ~ five_class_pred )
)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
dat %>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
TRUE ~ four_class_pred),
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
TRUE ~ five_class_pred )
)
dat %>% mutate(two_class_recoded = two_class_pred)
View(dat)
dat %>% mutate(two_class_recoded = two_class_pred)
View(dat)
dat %>% mutate(two_class_recoded == two_class_pred)
dat <- dat %>% mutate(two_class_recoded == two_class_pred)
dat <- dat %<>% mutate(two_class_recoded == two_class_pred)
dat <- dat %>% mutate(two_class_recoded = two_class_pred)
View(dat)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
dat <- dat %>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3))
View(dat)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
dat <- dat %>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred))
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
dat <- dat %>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
TRUE ~ four_class_pred))
library(tidyverse)
library(magrittr)
dat <- read_csv("v4_all_class_pred_10-29-23.csv")
library(tidyverse)
library(magrittr)
dat <- read_csv("../v4_all_class_pred_10-29-23.csv")
library(tidyverse)
library(magrittr)
dat <- read_csv("all_class_pred_10-29-23.csv")
library(tidyverse)
library(magrittr)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
library(tidyverse)
library(magrittr)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
library(tidyverse)
library(magrittr)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
getwd()
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3,),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred) ,
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred) ,
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3),
# four_class_recoded = case_when(four_class_pred == 3 ~ 0,
#                                 four_class_pred != 3 ~ four_class_pred) ,
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
View(dat)
dat <- read.csv("v4_all_class_pred_10-29-23.csv")
dat %<>% mutate(two_class_recoded = two_class_pred,
three_class_recoded = case_when(three_class_pred == 2 ~ 1,
three_class_pred == 3 ~ 2,
three_class_pred == 1 ~ 3,),
four_class_recoded = case_when(four_class_pred == 3 ~ 0,
four_class_pred != 3 ~ four_class_pred) ,
five_class_recoded = case_when(five_class_pred == 2 ~ 0,
five_class_pred == 5 ~ 2,
! (five_class_pred %in% c(2,5)) ~ five_class_pred )
)
